# Jpa 시작

## sql을 직접 다룰 때 발생하는 문제점

* 반복 ,반복

* sql에 의존적인 개발


## 패러다임의 불일치


`밀도(Granularity) 문제`

|객체|릴레이션|
|---|---|
|다양한 크기의 객체를 만들 수 있음.<br> 커스텀한 타입 만들기 쉬움.	|테이블 기본 데이터 타입 (UDT는 비추)|


`서브타입(Subtype) 문제`

|객체|릴레이션|
|---|---|
|상속 구조 만들기 쉬움 <br>다형성.|테이블 상속이라는게 없음. <br> 상속 기능을 구현했다 하더라도 표준 기술이 아님. <br> 다형적인 관계를 표현할 방법이 없음.|



`식별성(Identity) 문제`

|객체|릴레이션|
|---|---|
|레퍼런스 동일성 (==) <br> 인스턴스 동일성 (equals() 메소드)	|주키 (primary key)|



`관계(Association) 문제`

|객체|릴레이션|
|---|---|
|객체 레퍼런스로 관계 표현.<br> 근본적으로 ‘방향'이 존재 한다. <br> 다대다 관계를 가질 수 있음	|외래키(foreign key)로 관계 표현.<br> ‘방향'이라는 의미가 없음. 그냥 Join으로 아무거나 묶을 수 있음. <br>태생적으로 다대다 관계를 못만들고, 조인 테이블 또는 링크 테이블을 사용해서 두개의 1대다 관계로 풀어야 함. |




`데이터 네비게이션(Navigation)의 문제`

|객체|릴레이션|
|---|---|
|레퍼런스를 이용해서 다른 객체로 이동 가능.<br> 콜렉션을 순회할 수도 있음.		|  하지만 그런 방식은 릴레이션에서 데이터를 조회하는데 있어서 매우 비효율적이다.<br>데이터베이스에 요청을 적게 할 수록 성능이 좋다. 따라서 Join을 쓴다.<br>하지만, 너무 많이 한번에 가져오려고 해도 문제다.<br>그렇다고 lazy loading을 하자니 그것도 문제다. (n+1 select)|





## 참고사항 (2가지 이슈사항)
`첫번째 이슈사항`

현 시점 2020.01.27 에는 첵에 나오는 1.4.187 버전의 zip 파일을 http://www.h2database.com/ 사이트에서 찾기 힘들다.
그래서 1.4.199 버전 또는 1.4.200 버전의 zip파일을 다운 받은 경우 1.4.198이후 권한관련하여 반영된 이슈때문에 정상적으로 접속이 되지 않는다.

결론은 1.4.198 이전의 버전을 사용하면된다.

책에 나와있는 것과 다르게 https://libraries.io/maven/com.h2database:h2/versions 사이트를 통해서 jar파일을 다운받아 실행하여 책에 내용을 실행



`두번째 이슈사항`


아래의 이슈에 부딛쳤다면 https://www.inflearn.com/questions/11283 링크를 참조하여 해결하면 된다.
**`Database "C:/Users/.../test" not found, and IFEXISTS=true, so we cant auto-create it [90146-199]`**

